(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{O685:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),o=e("mrSG"),u=e("+JMX"),r=e("ZZ/e");class i{constructor(l,n,e,t,o,u){this.form=l,this.routes=n,this.crudSrv=e,this.alertCtrl=t,this.loadingCtrl=o,this.events=u}ngOnInit(){this.formCode=this.form.group({primero:[],segundo:[],tercero:[],cuarto:[]})}saveData(){let l=this.formCode.value,n=l.primero+l.segundo+l.tercero+l.cuarto;console.log(n),this.datos.code=n,this.datos.id=this.result.id,console.log("data armada:",this.datos),this.crudSrv.createNewUser(this.datos).subscribe(l=>o.__awaiter(this,void 0,void 0,function*(){if(this.createOk=l,0==this.createOk.ok){const l=yield this.alertCtrl.create({header:"Error en el envio del c\xf3digo",message:`${this.createOk.error.message}`,buttons:[{text:"Intentar de nuevo",role:"cancel"}]});yield l.present()}else{const n=yield this.loadingCtrl.create({message:"eniando c\xf3digo..."});yield n.present(),this.createOk=l,localStorage.setItem("idTokenUser",this.createOk.patientId),localStorage.setItem("emailUser",this.createOk.userEmail),localStorage.setItem("authorization",this.createOk.authorization),localStorage.setItem("role",this.createOk.role),localStorage.setItem("patientName",this.createOk.patientName),this.events.publish("user:logged","logged"),this.routes.navigate(["tabs"]),console.log("pas\xf3!!!"),n.dismiss()}}))}sendCode(){this.crudSrv.validateEmail({email:this.datos.email}).subscribe(l=>{this.code=l})}}class a{}var s=e("pMnS"),c=e("oBZk"),b=e("s7LF"),d=e("iInd"),g=t.pb({encapsulation:0,styles:[[".codigoValida[_ngcontent-%COMP%]{color:#062f51;text-align:center;margin-bottom:2em;font-size:1.1em;font-weight:300;padding-top:1em;width:90%;margin-left:5%}.rectanguloInput[_ngcontent-%COMP%]{border:2px solid #96999c;height:60px;margin:2px;border-radius:5px}.center[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.codigoreen[_ngcontent-%COMP%]{color:#062f51;text-transform:lowercase;font-size:1.2em;font-weight:lighter;border:1px solid #062f51;border-radius:10px}.newCode[_ngcontent-%COMP%]{color:#062f51;font-size:1.1em;width:90%;margin-left:5%;margin-top:80px}"]],data:{}});function h(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,6,"ion-header",[],null,null,null,c.fb,c.q)),t.qb(1,49152,null,0,r.C,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,4,"ion-toolbar",[],null,null,null,c.Db,c.O)),t.qb(3,49152,null,0,r.Cb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,2,"ion-title",[],null,null,null,c.Cb,c.N)),t.qb(5,49152,null,0,r.Ab,[t.h,t.k,t.x],null,null),(l()(),t.Kb(-1,0,["code"])),(l()(),t.rb(7,0,null,null,16,"ion-content",[],null,null,null,c.Z,c.k)),t.qb(8,49152,null,0,r.v,[t.h,t.k,t.x],null,null),(l()(),t.rb(9,0,null,0,1,"p",[["class","codigoValida"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["hemos enviado al correo el c\xf3digo de validaci\xf3n , ingresalo y listo...."])),(l()(),t.rb(11,0,null,0,7,"ion-row",[],null,null,null,c.qb,c.B)),t.qb(12,49152,null,0,r.jb,[t.h,t.k,t.x],null,null),(l()(),t.rb(13,0,null,0,0,"div",[["col-2",""]],null,null,null,null,null)),(l()(),t.rb(14,0,null,0,3,"div",[["col-8",""]],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,2,"div",[["class","center"]],null,null,null,null,null)),(l()(),t.rb(16,0,null,null,1,"button",[["ion-button",""],["type","submit"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,[" registrarme "])),(l()(),t.rb(18,0,null,0,0,"div",[["col-2",""]],null,null,null,null,null)),(l()(),t.rb(19,0,null,0,4,"div",[["class","center"]],null,null,null,null,null)),(l()(),t.rb(20,0,null,null,1,"p",[["class","newCode"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Si no recibiste o caduco tu codigo puedes solicitar uno nuevo."])),(l()(),t.rb(22,0,null,null,1,"button",[["class","codigoreen"],["clear",""],["ion-button",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.sendCode()&&t),t},null,null)),(l()(),t.Kb(-1,null,["reenviar c\xf3dido "]))],null,null)}function m(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,1,"app-code",[],null,null,null,h,g)),t.qb(1,114688,null,0,i,[b.b,d.m,u.a,r.a,r.Gb,r.e],null,null)],function(l,n){l(n,1,0)},null)}var p=t.nb("app-code",i,m,{},{},[]),v=e("SVse");e.d(n,"CodePageModuleNgFactory",function(){return f});var f=t.ob(a,[],function(l){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[s.a,p]],[3,t.j],t.v]),t.Bb(4608,v.o,v.n,[t.s,[2,v.E]]),t.Bb(4608,b.s,b.s,[]),t.Bb(4608,r.b,r.b,[t.x,t.g]),t.Bb(4608,r.Ib,r.Ib,[r.b,t.j,t.p]),t.Bb(4608,r.Mb,r.Mb,[r.b,t.j,t.p]),t.Bb(4608,b.b,b.b,[]),t.Bb(1073742336,v.b,v.b,[]),t.Bb(1073742336,b.r,b.r,[]),t.Bb(1073742336,b.e,b.e,[]),t.Bb(1073742336,r.Eb,r.Eb,[]),t.Bb(1073742336,b.o,b.o,[]),t.Bb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),t.Bb(1073742336,a,a,[]),t.Bb(1024,d.k,function(){return[[{path:"",component:i}]]},[])])})}}]);
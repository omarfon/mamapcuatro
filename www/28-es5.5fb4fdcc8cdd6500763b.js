(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"/yGZ":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=t("mrSG"),u=t("ZZ/e"),a=t("67Y/"),r=t("AytR"),i=t("t/Na"),c=function(){function n(n){this.http=n,this.SERVER=r.a,this.apiUrl=this.SERVER+"users/public-authorization"}return n.prototype.getKey=function(){return this.http.get(this.apiUrl).pipe(Object(a.a)(function(n){return n}))},n.ngInjectableDef=e.Sb({factory:function(){return new n(e.Tb(i.c))},token:n,providedIn:"root"}),n}(),s=t("Ouoq"),b=t("FkdA"),g=t("JQd6"),p=function(){function n(n,l){this.router=n,this.popoverCtrl=l}return n.prototype.ngOnInit=function(){},n.prototype.saveDate=function(n,l){localStorage.setItem("patientName",n.value),localStorage.setItem("startPregnancy",l.value),this.popoverCtrl.dismiss(),this.router.navigate(["tabs"]),console.log(l,l.value)},n}(),d=t("jHPu"),h=function(){function n(n,l,t,e,o,u,a,r){this.autho=n,this.userSrv=l,this.alertCtrl=t,this.router=e,this.events=o,this.datosSrv=u,this.popover=a,this.chatSrv=r,localStorage.getItem("authorization"),this.autho.getKey().subscribe(function(n){localStorage.setItem("authorization",n.authorization),localStorage.setItem("role",n.role)})}return n.prototype.ngOnInit=function(){localStorage.getItem("authorization"),this.autho.getKey().subscribe(function(n){localStorage.setItem("authorization",n.authorization),localStorage.setItem("role",n.role)})},n.prototype.doSignIn=function(n,l){var t=this;this.userSrv.doSignIn(n,l).subscribe(function(n){return o.__awaiter(t,void 0,void 0,function(){var l,t=this;return o.__generator(this,function(e){switch(e.label){case 0:return this.data=n,console.log("lo que me trae el login:",this.data),"HOMBRE"!=this.data.sex?[3,3]:[4,this.alertCtrl.create({header:"LO SENTIMOS",subHeader:"Esta aplicaci\xf3n es de uso exclusivo para pacientes de sexo femenino",buttons:[{text:"ok",role:"cancel"}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[3,4];case 3:localStorage.setItem("usuario",this.data.userEmail),localStorage.setItem("email",this.data.userEmail),localStorage.setItem("authorization",this.data.authorization),localStorage.setItem("id",this.data.patientId),localStorage.setItem("role",this.data.role),localStorage.setItem("photoUrl",this.data.photoUrl),localStorage.setItem("patientName",this.data.patientName),localStorage.setItem("token",this.data.firebaseToken),localStorage.setItem("name",this.data.name),localStorage.getItem("token")&&(l=localStorage.getItem("token"),this.chatSrv.registerCustom(l)),this.datosSrv.getStartPregnacy().subscribe(function(n){n?(t.startPregnancy=n.fecha_ultima_regla,t.startPregnancy&&(localStorage.setItem("startPregnancy",t.startPregnancy),t.router.navigateByUrl("/tabs")),t.events.publish("change:foto")):t.goToCalc()}),e.label=4;case 4:return[2]}})})},function(n){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.alertCtrl.create({header:"",message:"Email o Password incorrecto",buttons:[{text:"Volver a intentar",handler:function(n){}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})})},n.prototype.goToRecovery=function(){return o.__awaiter(this,void 0,void 0,function(){var n=this;return o.__generator(this,function(l){switch(l.label){case 0:return[4,this.alertCtrl.create({header:"Olvidaste la Contrase\xf1a?",subHeader:"Ingresa tu email para recuperar la contrase\xf1a",inputs:[{name:"email",type:"text",placeholder:"Ingresa tu email"}],buttons:[{text:"enviar",cssClass:"primary",handler:function(l){n.userSrv.sendValidation(l.email).subscribe(function(l){if(n.datos=l,n.datos.result="ok"){var t=JSON.stringify(n.datos);n.router.navigate(["recoverycode",t])}else n.message=n.datos.error.message})}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.goToRegister=function(){this.router.navigate(["register"])},n.prototype.goTohome=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.popover.create({component:g.a,backdropDismiss:!0})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},n.prototype.recoveryCode=function(){this.router.navigate(["/code"])},n.prototype.goToCalc=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.popover.create({component:p,backdropDismiss:!0})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},n}(),m=function(){return function(){}}(),f=t("pMnS"),v=t("oBZk"),k=t("Ip0R"),_=t("gIcY"),y=t("ZYCi"),I=e.sb({encapsulation:0,styles:[["@charset \"UTF-8\";ion-content[_ngcontent-%COMP%]{--background:url('fondoLogin.3a1b1bbdcb2d02fc1049.png') 0 0/100% 100% no-repeat;width:100%;height:100%;background-repeat:no-repeat;background-size:cover;text-align:center;position:fixed!important}.tituloLogin[_ngcontent-%COMP%]{width:80%;margin-left:10%;text-align:center;padding-top:15px!important;color:#9f5ae5;font-size:1.2em}button[_ngcontent-%COMP%]{height:50px!important}.contenedorBotones[_ngcontent-%COMP%]{margin-top:16vh;padding-top:10px;text-align:center;width:90%;margin-left:5%}.contenedorBotones[_ngcontent-%COMP%]   .buttonIngresar[_ngcontent-%COMP%]{position:relative;background:#9f5ae5;font-size:1em;font-weight:400;color:#fff;margin-top:10px;height:50px}.contrase\xf1aolvidada[_ngcontent-%COMP%]{color:#7044ff;font-size:1em;margin-top:10px;font-weight:800}.contenedorImagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;margin-top:5vh}.item-md[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)!important;color:#fff;margin-bottom:5px}.label-md[_ngcontent-%COMP%]{color:#ffa18b!important;font-size:.9em}.text-input-md[_ngcontent-%COMP%]{color:#ffa18b!important;font-size:1.1em}.botonRegister[_ngcontent-%COMP%]{--background:#FFA18B;color:#fff;margin-top:15px!important;border-radius:5px}.list-md[_ngcontent-%COMP%]{background:0 0!important}ion-item[_ngcontent-%COMP%]{--background:rgba(255, 255, 255, 0.5);margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#9f5ae5;font-size:1.2em}ion-item[_ngcontent-%COMP%]   .label-floating[_ngcontent-%COMP%]{color:#7044ff}"]],data:{}});function C(n){return e.Pb(0,[(n()(),e.ub(0,0,null,null,48,"ion-content",[["id","fondo"],["padding",""]],null,null,null,v.Z,v.k)),e.tb(1,49152,null,0,u.v,[e.h,e.k,e.A],null,null),(n()(),e.ub(2,0,null,0,1,"div",[["class","contenedorImagen"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,0,"img",[["alt",""],["src","assets/imgs/logoCuidaBlanco.png"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,0,27,"div",[["class","contenedorBotones"]],null,null,null,null,null)),(n()(),e.ub(5,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Nb(6,null,["",""])),e.Hb(0,k.f,[]),(n()(),e.ub(8,0,null,null,23,"ion-list",[],null,null,null,v.kb,v.v)),e.tb(9,49152,null,0,u.P,[e.h,e.k,e.A],null,null),(n()(),e.ub(10,0,null,0,8,"ion-item",[],null,null,null,v.ib,v.t)),e.tb(11,49152,null,0,u.I,[e.h,e.k,e.A],null,null),(n()(),e.ub(12,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.jb,v.u)),e.tb(13,49152,null,0,u.O,[e.h,e.k,e.A],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Email"])),(n()(),e.ub(15,0,null,0,3,"ion-input",[["type","email"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==e.Gb(n,18)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==e.Gb(n,18)._handleInputEvent(t.target.value)&&o),o},v.hb,v.s)),e.Kb(5120,null,_.i,function(n){return[n]},[u.Qb]),e.tb(17,49152,[["email",4]],0,u.H,[e.h,e.k,e.A],{type:[0,"type"]},null),e.tb(18,16384,null,0,u.Qb,[e.k],null,null),(n()(),e.ub(19,0,null,0,8,"ion-item",[],null,null,null,v.ib,v.t)),e.tb(20,49152,null,0,u.I,[e.h,e.k,e.A],null,null),(n()(),e.ub(21,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.jb,v.u)),e.tb(22,49152,null,0,u.O,[e.h,e.k,e.A],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Contrase\xf1a"])),(n()(),e.ub(24,0,null,0,3,"ion-input",[["type","password"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==e.Gb(n,27)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==e.Gb(n,27)._handleInputEvent(t.target.value)&&o),o},v.hb,v.s)),e.Kb(5120,null,_.i,function(n){return[n]},[u.Qb]),e.tb(26,49152,[["password",4]],0,u.H,[e.h,e.k,e.A],{type:[0,"type"]},null),e.tb(27,16384,null,0,u.Qb,[e.k],null,null),(n()(),e.ub(28,0,null,0,3,"div",[["class","contenedorBotonIngresar"]],null,null,null,null,null)),(n()(),e.ub(29,0,null,null,2,"ion-button",[["class","buttonIngresar"],["color","tertiary"],["size","full"],["submit",""]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.doSignIn(e.Gb(n,17).value,e.Gb(n,26).value)&&o),o},v.S,v.d)),e.tb(30,49152,null,0,u.l,[e.h,e.k,e.A],{color:[0,"color"],size:[1,"size"]},null),(n()(),e.Nb(-1,0,[" Ingresar "])),(n()(),e.ub(32,0,null,0,16,"ion-row",[],null,null,null,v.qb,v.B)),e.tb(33,49152,null,0,u.jb,[e.h,e.k,e.A],null,null),(n()(),e.ub(34,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.tb(35,49152,null,0,u.u,[e.h,e.k,e.A],null,null),(n()(),e.ub(36,0,null,0,2,"ion-button",[["class","contrase\xf1aolvidada"],["fill","clear"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToRecovery()&&e),e},v.S,v.d)),e.tb(37,49152,null,0,u.l,[e.h,e.k,e.A],{fill:[0,"fill"]},null),(n()(),e.Nb(-1,0,[" Olvid\xe9 la contrase\xf1a "])),(n()(),e.ub(39,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.tb(40,49152,null,0,u.u,[e.h,e.k,e.A],null,null),(n()(),e.ub(41,0,null,0,2,"ion-button",[["block",""],["class","botonRegister"],["small",""]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToRegister()&&e),e},v.S,v.d)),e.tb(42,49152,null,0,u.l,[e.h,e.k,e.A],null,null),(n()(),e.Nb(-1,0,[" Registrarme "])),(n()(),e.ub(44,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.tb(45,49152,null,0,u.u,[e.h,e.k,e.A],null,null),(n()(),e.ub(46,0,null,0,2,"ion-button",[["block",""],["class","botonRegister"],["color","secondary"],["small",""]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goTohome()&&e),e},v.S,v.d)),e.tb(47,49152,null,0,u.l,[e.h,e.k,e.A],{color:[0,"color"]},null),(n()(),e.Nb(-1,0,[" Ingresar como Invitado "]))],function(n,l){n(l,13,0,"floating"),n(l,17,0,"email"),n(l,22,0,"floating"),n(l,26,0,"password"),n(l,30,0,"tertiary","full"),n(l,37,0,"clear"),n(l,47,0,"secondary")},function(n,l){var t=l.component;n(l,6,0,e.Ob(l,6,0,e.Gb(l,7).transform(t.msgError)))})}function S(n){return e.Pb(0,[(n()(),e.ub(0,0,null,null,1,"app-login",[],null,null,null,C,I)),e.tb(1,114688,null,0,h,[c,s.a,u.a,y.m,u.e,b.a,u.Mb,d.a],null,null)],function(n,l){n(l,1,0)},null)}var P=e.qb("app-login",h,S,{},{},[]),M=t("qer4"),O=e.sb({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{text-align:center;font-size:.9em;color:grey;margin-bottom:20px;padding-left:20px;padding-right:40px}ion-content[_ngcontent-%COMP%]{height:58vh;padding-bottom:10px}h3[_ngcontent-%COMP%]{width:90%;margin-left:5%;text-align:center;color:#ffa28c}ion-label[_ngcontent-%COMP%]{color:grey!important}ion-button[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}"]],data:{}});function E(n){return e.Pb(0,[(n()(),e.ub(0,0,null,null,15,"ion-content",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Nb(-1,null,["C\xe1lculo de semanas de embarazo"])),(n()(),e.ub(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Nb(-1,null,["En este momento no tienes en tu historia cl\xednica una fecha de concepci\xf3n, ingresa una manualmente, por favor..."])),(n()(),e.ub(5,0,null,null,8,"ion-list",[["lines","none"],["padding",""]],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,3,"ion-item",[],null,null,null,null,null)),(n()(),e.ub(7,0,null,null,1,"ion-label",[["position","floating"]],null,null,null,null,null)),(n()(),e.Nb(-1,null,["Ingresa un nombre"])),(n()(),e.ub(9,0,[["nombre",1]],null,0,"ion-input",[["type","text"]],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,3,"ion-item",[],null,null,null,null,null)),(n()(),e.ub(11,0,null,null,1,"ion-label",[["position","floating"]],null,null,null,null,null)),(n()(),e.Nb(-1,null,["Fecha de concepci\xf3n"])),(n()(),e.ub(13,0,[["fechaManual",1]],null,0,"ion-datetime",[["displayFormat","DD/MM/YYYY"],["min","2019-01-01"],["pickerFormat","DD MM YYYY"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,1,"ion-button",[["color","rosado"],["size","block"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.saveDate(e.Gb(n,9),e.Gb(n,13))&&o),o},null,null)),(n()(),e.Nb(-1,null,[" ingresa los datos "]))],null,null)}function x(n){return e.Pb(0,[(n()(),e.ub(0,0,null,null,1,"app-calc",[],null,null,null,E,O)),e.tb(1,114688,null,0,p,[y.m,u.Mb],null,null)],function(n,l){n(l,1,0)},null)}var w=e.qb("app-calc",p,x,{},{},[]),z=t("j1ZV");t.d(l,"LoginPageModuleNgFactory",function(){return A});var A=e.rb(m,[],function(n){return e.Db([e.Eb(512,e.j,e.db,[[8,[f.a,P,M.a,w]],[3,e.j],e.y]),e.Eb(4608,k.o,k.n,[e.v,[2,k.E]]),e.Eb(4608,_.s,_.s,[]),e.Eb(4608,u.b,u.b,[e.A,e.g]),e.Eb(4608,u.Ib,u.Ib,[u.b,e.j,e.r]),e.Eb(4608,u.Mb,u.Mb,[u.b,e.j,e.r]),e.Eb(4608,_.b,_.b,[]),e.Eb(1073742336,k.b,k.b,[]),e.Eb(1073742336,_.r,_.r,[]),e.Eb(1073742336,_.e,_.e,[]),e.Eb(1073742336,u.Eb,u.Eb,[]),e.Eb(1073742336,_.o,_.o,[]),e.Eb(1073742336,z.a,z.a,[]),e.Eb(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),e.Eb(1073742336,m,m,[]),e.Eb(1024,y.k,function(){return[[{path:"",component:h}]]},[])])})}}]);
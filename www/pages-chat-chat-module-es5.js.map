{"version":3,"sources":["./src/app/pages/chat/chat.page.html","./src/app/pages/chat/chat.module.ts","./src/app/pages/chat/chat.page.scss","./src/app/pages/chat/chat.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,qeAAqe,cAAc,+BAA+B,iBAAiB,sEAAsE,sCAAsC,sLAAsL,cAAc,+BAA+B,iBAAiB,sEAAsE,sCAAsC,kkB;;;;;;;;;;;;;;;;;;;;;;ACAt8B;AACM;AACF;AACU;AAEV;AAEN;AAEvC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mDAAQ;KACpB;CACF,CAAC;AAWF;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;SACzB,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB3B,6CAA6C,mCAAmC,qBAAqB,iBAAiB,GAAG,wBAAwB,gCAAgC,GAAG,YAAY,kBAAkB,wBAAwB,uBAAuB,0BAA0B,GAAG,kBAAkB,wBAAwB,gBAAgB,GAAG,eAAe,wBAAwB,gBAAgB,GAAG,SAAS,mBAAmB,iBAAiB,qBAAqB,GAAG,YAAY,2BAA2B,yBAAyB,mBAAmB,GAAG,kBAAkB,iBAAiB,gBAAgB,8CAA8C,wBAAwB,qBAAqB,iBAAiB,uBAAuB,wBAAwB,GAAG,kBAAkB,+BAA+B,cAAc,GAAG,UAAU,oCAAoC,uBAAuB,GAAG,cAAc,cAAc,eAAe,wBAAwB,GAAG,uBAAuB,wBAAwB,GAAG,6CAA6C,usH;;;;;;;;;;;;;;;;;;;ACAn/B;AACJ;AACb;AAc5C;IASE,kBAAmB,OAAoB;QAApB,YAAO,GAAP,OAAO,CAAa;QAHvC,gBAAW,GAAG,SAAS,CAAC;IAGkB,CAAC;IAE3C,2BAAQ,GAAR;QACE,IAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,EAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;SAClC;aAAI;YACH,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;IACH,CAAC;IAED,sCAAmB,GAAnB;QAAA,iBAUC;QATC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAM,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,SAAS,CAAE,cAAI;YAC3C,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QACtD,CAAC,CAAC;QACF,UAAU,CAAC;YACT,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC,EAAC,GAAG,CAAC;IACR,CAAC;IAGD,8BAAW,GAAX;QAAA,iBAcC;QAbC,IAAM,OAAO,GAAY;YACvB,OAAO,EAAE,IAAI,CAAC,GAAG;YACjB,IAAI,EAAC,MAAM;YACX,IAAI,EAAE,IAAI,IAAI,EAAE;YAChB,IAAI,EAAE,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC;SACnC;QACD,IAAM,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,OAAO,EAAE,EAAE,CAAE,CAAC;QACjD,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QAEd,UAAU,CAAC;YACT,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC,EAAC,GAAG,CAAC;IACR,CAAC;;gBArC2B,iEAAW;;IAFC;QAAvC,+DAAS,CAAC,yDAAU,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;wEAAU,yDAAU;6CAAC;IAPjD,QAAQ;QALpB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,0IAA+B;;SAEhC,CAAC;+EAU4B,iEAAW;OAT5B,QAAQ,CAgDpB;IAAD,eAAC;CAAA;AAhDoB","file":"pages-chat-chat-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"rosado\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-menu-button ></ion-menu-button>\\n      </ion-buttons>\\n    <ion-title>chat</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <div *ngIf=\\\"conversacion\\\">\\n        <ion-row *ngFor=\\\"let mensaje of conversacion.messages\\\">\\n          <ion-col size=\\\"8\\\"  *ngIf=\\\"currentUser === mensaje.user\\\" class=\\\"message other-message\\\">\\n            <b>{{mensaje.user}}</b> <br>\\n            <span>{{mensaje.content}}</span>\\n            <div class=\\\"time\\\" text-right>\\n              {{mensaje.date.toDate() | date:'short'}}\\n            </div> \\n          </ion-col>  \\n\\n          <ion-col offset=\\\"4\\\" size=\\\"8\\\"   *ngIf=\\\"mensaje.user !== currentUser \\\" class=\\\"message my-message\\\">\\n            <b>{{mensaje.user}}</b> <br>\\n            <span>{{mensaje.content}}</span>\\n            <div class=\\\"time\\\" text-right>\\n              {{mensaje.date.toDate() | date:'short'}}\\n            </div> \\n          </ion-col>  \\n        </ion-row >\\n        \\n        <!-- <ion-row *ngFor=\\\"let mensaje of conversacion.messages\\\" >\\n          </ion-row >  -->\\n\\n      </div>\\n\\n</ion-content>\\n\\n<ion-footer padding>\\n  <ion-item>\\n    <ion-textarea [(ngModel)]=\\\"msg\\\" autosize class=\\\"message-input\\\" value=\\\"ingresa tu mensaje\\\">\\n    </ion-textarea>\\n    <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"primary\\\" class=\\\"msg-btn\\\" (click)=\\\"sendMessage()\\\">\\n      <ion-icon name=\\\"send\\\" ></ion-icon>\\n    </ion-button>\\n  </ion-item>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChatPage]\n})\nexport class ChatPageModule {}\n","module.exports = \"ion-content #areaMensajes {\\n  background: #f3f3f3 !important;\\n  min-height: 85vh;\\n  height: auto;\\n}\\nion-content ion-card {\\n  background: #fff !important;\\n}\\n.message {\\n  padding: 10px;\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap;\\n}\\n.other-message {\\n  background: #FFC839;\\n  color: #fff;\\n}\\n.my-message {\\n  background: #26baf5;\\n  color: #fff;\\n}\\n.time {\\n  color: #ebe9e9;\\n  float: right;\\n  font-size: small;\\n}\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em;\\n  font-size: 1em;\\n}\\n.message-input {\\n  height: 40px;\\n  width: 100%;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff;\\n  resize: none;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n#positionFixed {\\n  position: fixed !important;\\n  left: 67%;\\n}\\n.mamas {\\n  color: var(--ion-color-primary);\\n  text-align: center;\\n}\\nion-footer {\\n  margin: 0;\\n  padding: 0;\\n  padding-bottom: 5px;\\n}\\nion-footer ion-item {\\n  border-bottom: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9NYWMvRG9jdW1lbnRzL2Rldi9nZXN0YW50ZU5ldy9zcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSw4QkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ0FSO0FERUk7RUFDSSwyQkFBQTtBQ0FSO0FER0E7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDQUo7QURHQTtFQUNJLG1CQUFBO0VBQ0EsV0FBQTtBQ0FKO0FER0E7RUFDSSxtQkFBQTtFQUNBLFdBQUE7QUNBSjtBREdBO0VBQ0ksY0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQ0FKO0FERUE7RUFDSSxzQkFBQTtFQUNBLG9CQUFBO0VBQ0EsY0FBQTtBQ0NKO0FEQ0E7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHlDQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDRUo7QURBQTtFQUNJLDBCQUFBO0VBQ0EsU0FBQTtBQ0dKO0FEREE7RUFDSSwrQkFBQTtFQUNBLGtCQUFBO0FDSUo7QURGQTtFQUNJLFNBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7QUNLSjtBREpJO0VBQ0ksbUJBQUE7QUNNUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgICAjYXJlYU1lbnNhamVze1xuICAgICAgICBiYWNrZ3JvdW5kOnJnYigyNDMsIDI0MywgMjQzKSFpbXBvcnRhbnQ7XG4gICAgICAgIG1pbi1oZWlnaHQ6ODV2aDtcbiAgICAgICAgaGVpZ2h0OmF1dG87XG4gICAgfVxuICAgIGlvbi1jYXJke1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmIWltcG9ydGFudDtcbiAgICB9XG59XG4ubWVzc2FnZXtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLm90aGVyLW1lc3NhZ2V7XG4gICAgYmFja2dyb3VuZDogI0ZGQzgzOTtcbiAgICBjb2xvcjojZmZmO1xufVxuXG4ubXktbWVzc2FnZXtcbiAgICBiYWNrZ3JvdW5kOiAjMjZiYWY1O1xuICAgIGNvbG9yOiNmZmY7XG59XG5cbi50aW1le1xuICAgIGNvbG9yOiNlYmU5ZTk7XG4gICAgZmxvYXQ6cmlnaHQ7XG4gICAgZm9udC1zaXplOnNtYWxsO1xufVxuLm1zZy1idG57XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcbiAgICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcbiAgICBmb250LXNpemU6MWVtO1xufVxuLm1lc3NhZ2UtaW5wdXR7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICByZXNpemU6IG5vbmU7XG4gICAgcGFkZGluZy1sZWZ0OjEwcHg7XG4gICAgcGFkZGluZy1yaWdodDoxMHB4O1xufVxuI3Bvc2l0aW9uRml4ZWR7XG4gICAgcG9zaXRpb246IGZpeGVkIWltcG9ydGFudDtcbiAgICBsZWZ0OiA2NyU7XG59XG4ubWFtYXN7XG4gICAgY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmlvbi1mb290ZXJ7XG4gICAgbWFyZ2luOjA7XG4gICAgcGFkZGluZzowO1xuICAgIHBhZGRpbmctYm90dG9tOjVweDtcbiAgICBpb24taXRlbXtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTpub25lO1xuICAgIH1cbn1cblxuIiwiaW9uLWNvbnRlbnQgI2FyZWFNZW5zYWplcyB7XG4gIGJhY2tncm91bmQ6ICNmM2YzZjMgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogODV2aDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuaW9uLWNvbnRlbnQgaW9uLWNhcmQge1xuICBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7XG59XG5cbi5tZXNzYWdlIHtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbi5vdGhlci1tZXNzYWdlIHtcbiAgYmFja2dyb3VuZDogI0ZGQzgzOTtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi5teS1tZXNzYWdlIHtcbiAgYmFja2dyb3VuZDogIzI2YmFmNTtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi50aW1lIHtcbiAgY29sb3I6ICNlYmU5ZTk7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC1zaXplOiBzbWFsbDtcbn1cblxuLm1zZy1idG4ge1xuICAtLXBhZGRpbmctc3RhcnQ6IDAuNWVtO1xuICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcbiAgZm9udC1zaXplOiAxZW07XG59XG5cbi5tZXNzYWdlLWlucHV0IHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIHJlc2l6ZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xufVxuXG4jcG9zaXRpb25GaXhlZCB7XG4gIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xuICBsZWZ0OiA2NyU7XG59XG5cbi5tYW1hcyB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWZvb3RlciB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbn1cbmlvbi1mb290ZXIgaW9uLWl0ZW0ge1xuICBib3JkZXItYm90dG9tOiBub25lO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ChatService } from '../../service/chat.service';\nimport { IonContent } from '@ionic/angular';\n\ninterface Message {\n  content:string\n  type: string\n  date: Date\n  user: string\n}\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit {\n\n  public msg;\n  public chat;\n  public conversacion;\n  public uid;\n  currentUser = 'Claudia';\n  @ViewChild(IonContent, {static: false}) content: IonContent;\n\n  constructor(public chatSrv: ChatService) {}\n\n  ngOnInit() {\n    if(localStorage.getItem('token') && !localStorage.getItem('uid')){\n      this.chatSrv.registerForCustom();\n    }else{\n      this.obtenerConversacion();\n    }\n  }\n\n  obtenerConversacion(){\n    console.log(this.conversacion);\n    const uid = localStorage.getItem('uid');\n    this.chatSrv.getChatRoom(uid).subscribe( room =>{\n      this.conversacion = room;\n      console.log('this.conversacion:',this.conversacion);\n    })\n    setTimeout(()=>{\n      this.content.scrollToBottom(300);\n    },300)\n  }\n\n  \n  sendMessage(){\n    const mensaje : Message ={\n      content: this.msg,\n      type:'text',\n      date: new Date(),\n      user: localStorage.getItem('name'),\n    }\n    const id = localStorage.getItem('uid');\n    this.chatSrv.sendMessageToFirebase(mensaje, id );\n    this.msg = \"\";\n\n    setTimeout(()=>{\n      this.content.scrollToBottom(300);\n    },500)\n  }\n\n}\n"],"sourceRoot":""}
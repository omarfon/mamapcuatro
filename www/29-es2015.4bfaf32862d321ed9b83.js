(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/yGZ":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),o=t("mrSG"),a=t("ZZ/e"),i=t("lJxs"),r=t("AytR"),u=t("IheW");let s=(()=>{class l{constructor(l){this.http=l,this.SERVER=r.a,this.apiUrl=`${this.SERVER}users/public-authorization`}getKey(){return this.http.get(this.apiUrl).pipe(Object(i.a)(l=>l))}}return l.ngInjectableDef=e.Pb({factory:function(){return new l(e.Qb(u.c))},token:l,providedIn:"root"}),l})();var c=t("Ouoq"),b=t("FkdA"),g=t("JQd6");class d{constructor(l,n){this.router=l,this.popoverCtrl=n}ngOnInit(){}saveDate(l,n){localStorage.setItem("patientName",l.value),localStorage.setItem("startPregnancy",n.value),this.popoverCtrl.dismiss(),this.router.navigate(["tabs"]),console.log(n,n.value)}}var p=t("jHPu");class h{constructor(l,n,t,e,o,a,i,r){this.autho=l,this.userSrv=n,this.alertCtrl=t,this.router=e,this.events=o,this.datosSrv=a,this.popover=i,this.chatSrv=r,localStorage.getItem("authorization"),this.autho.getKey().subscribe(l=>{localStorage.setItem("authorization",l.authorization),localStorage.setItem("role",l.role)})}ngOnInit(){localStorage.getItem("authorization"),this.autho.getKey().subscribe(l=>{localStorage.setItem("authorization",l.authorization),localStorage.setItem("role",l.role)})}doSignIn(l,n){this.userSrv.doSignIn(l,n).subscribe(l=>o.__awaiter(this,void 0,void 0,(function*(){if(this.data=l,console.log("lo que me trae el login:",this.data),"HOMBRE"==this.data.sex){const l=yield this.alertCtrl.create({header:"LO SENTIMOS",subHeader:"Esta aplicaci\xf3n es de uso exclusivo para pacientes de sexo femenino",buttons:[{text:"ok",role:"cancel"}]});yield l.present()}else{if(localStorage.setItem("usuario",this.data.userEmail),localStorage.setItem("email",this.data.userEmail),localStorage.setItem("authorization",this.data.authorization),localStorage.setItem("id",this.data.patientId),localStorage.setItem("role",this.data.role),localStorage.setItem("photoUrl",this.data.photoUrl),localStorage.setItem("patientName",this.data.patientName),localStorage.setItem("token",this.data.firebaseToken),localStorage.setItem("name",this.data.name),localStorage.getItem("token")){const l=localStorage.getItem("token");this.chatSrv.registerCustom(l)}this.datosSrv.getStartPregnacy().subscribe(l=>{l?(this.startPregnancy=l.fecha_ultima_regla,this.startPregnancy&&(localStorage.setItem("startPregnancy",this.startPregnancy),this.router.navigateByUrl("/tabs")),this.events.publish("change:foto")):this.goToCalc()})}})),l=>o.__awaiter(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"",message:"Email o Password incorrecto",buttons:[{text:"Volver a intentar",handler:l=>{}}]});yield l.present()})))}goToRecovery(){return o.__awaiter(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Olvidaste la Contrase\xf1a?",subHeader:"Ingresa tu email para recuperar la contrase\xf1a",inputs:[{name:"email",type:"text",placeholder:"Ingresa tu email"}],buttons:[{text:"enviar",cssClass:"primary",handler:l=>{this.userSrv.sendValidation(l.email).subscribe(l=>{if(this.datos=l,this.datos.result="ok"){let l=JSON.stringify(this.datos);this.router.navigate(["recoverycode",l])}else this.message=this.datos.error.message})}}]});yield l.present()}))}goToRegister(){this.router.navigate(["register"])}goTohome(){return o.__awaiter(this,void 0,void 0,(function*(){const l=yield this.popover.create({component:g.a,backdropDismiss:!0});yield l.present()}))}recoveryCode(){this.router.navigate(["/code"])}goToCalc(){return o.__awaiter(this,void 0,void 0,(function*(){const l=yield this.popover.create({component:d,backdropDismiss:!0});yield l.present()}))}}class m{}var f=t("pMnS"),v=t("oBZk"),k=t("SVse"),x=t("s7LF"),y=t("iInd"),S=e.pb({encapsulation:0,styles:[["@charset \"UTF-8\";ion-content[_ngcontent-%COMP%]{--background:url('fondoLogin.3a1b1bbdcb2d02fc1049.png') 0 0/100% 100% no-repeat;width:100%;height:100%;background-repeat:no-repeat;background-size:cover;text-align:center;position:fixed!important}.tituloLogin[_ngcontent-%COMP%]{width:80%;margin-left:10%;text-align:center;padding-top:15px!important;color:#9f5ae5;font-size:1.2em}button[_ngcontent-%COMP%]{height:50px!important}.contenedorBotones[_ngcontent-%COMP%]{margin-top:16vh;padding-top:10px;text-align:center;width:90%;margin-left:5%}.contenedorBotones[_ngcontent-%COMP%]   .buttonIngresar[_ngcontent-%COMP%]{position:relative;background:#9f5ae5;font-size:1em;font-weight:400;color:#fff;margin-top:10px;height:50px}.contrase\xf1aolvidada[_ngcontent-%COMP%]{color:#7044ff;font-size:1em;margin-top:10px;font-weight:800}.contenedorImagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;margin-top:5vh}.item-md[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)!important;color:#fff;margin-bottom:5px}.label-md[_ngcontent-%COMP%]{color:#ffa18b!important;font-size:.9em}.text-input-md[_ngcontent-%COMP%]{color:#ffa18b!important;font-size:1.1em}.botonRegister[_ngcontent-%COMP%]{--background:#FFA18B;color:#fff;margin-top:15px!important;border-radius:5px}.list-md[_ngcontent-%COMP%]{background:0 0!important}ion-item[_ngcontent-%COMP%]{--background:rgba(255, 255, 255, 0.5);margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#9f5ae5;font-size:1.2em}ion-item[_ngcontent-%COMP%]   .label-floating[_ngcontent-%COMP%]{color:#7044ff}"]],data:{}});function I(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,49,"ion-content",[["id","fondo"],["padding",""]],null,null,null,v.Z,v.k)),e.qb(1,49152,null,0,a.w,[e.h,e.k,e.x],null,null),e.qb(2,16384,null,0,a.e,[e.k],null,null),(l()(),e.rb(3,0,null,0,1,"div",[["class","contenedorImagen"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,0,"img",[["alt",""],["src","assets/imgs/logoCuidaBlanco.png"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,0,27,"div",[["class","contenedorBotones"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Kb(7,null,["",""])),e.Eb(0,k.f,[]),(l()(),e.rb(9,0,null,null,23,"ion-list",[],null,null,null,v.kb,v.v)),e.qb(10,49152,null,0,a.Q,[e.h,e.k,e.x],null,null),(l()(),e.rb(11,0,null,0,8,"ion-item",[],null,null,null,v.ib,v.t)),e.qb(12,49152,null,0,a.J,[e.h,e.k,e.x],null,null),(l()(),e.rb(13,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.jb,v.u)),e.qb(14,49152,null,0,a.P,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["Email"])),(l()(),e.rb(16,0,null,0,3,"ion-input",[["type","email"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var o=!0;return"ionBlur"===n&&(o=!1!==e.Db(l,19)._handleBlurEvent(t.target)&&o),"ionChange"===n&&(o=!1!==e.Db(l,19)._handleInputEvent(t.target)&&o),o}),v.hb,v.s)),e.Hb(5120,null,x.i,(function(l){return[l]}),[a.Sb]),e.qb(18,49152,[["email",4]],0,a.I,[e.h,e.k,e.x],{type:[0,"type"]},null),e.qb(19,16384,null,0,a.Sb,[e.k],null,null),(l()(),e.rb(20,0,null,0,8,"ion-item",[],null,null,null,v.ib,v.t)),e.qb(21,49152,null,0,a.J,[e.h,e.k,e.x],null,null),(l()(),e.rb(22,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.jb,v.u)),e.qb(23,49152,null,0,a.P,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["Contrase\xf1a"])),(l()(),e.rb(25,0,null,0,3,"ion-input",[["type","password"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var o=!0;return"ionBlur"===n&&(o=!1!==e.Db(l,28)._handleBlurEvent(t.target)&&o),"ionChange"===n&&(o=!1!==e.Db(l,28)._handleInputEvent(t.target)&&o),o}),v.hb,v.s)),e.Hb(5120,null,x.i,(function(l){return[l]}),[a.Sb]),e.qb(27,49152,[["password",4]],0,a.I,[e.h,e.k,e.x],{type:[0,"type"]},null),e.qb(28,16384,null,0,a.Sb,[e.k],null,null),(l()(),e.rb(29,0,null,0,3,"div",[["class","contenedorBotonIngresar"]],null,null,null,null,null)),(l()(),e.rb(30,0,null,null,2,"ion-button",[["class","buttonIngresar"],["color","tertiary"],["size","full"],["submit",""]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.doSignIn(e.Db(l,18).value,e.Db(l,27).value)&&o),o}),v.S,v.d)),e.qb(31,49152,null,0,a.m,[e.h,e.k,e.x],{color:[0,"color"],size:[1,"size"]},null),(l()(),e.Kb(-1,0,[" Ingresar "])),(l()(),e.rb(33,0,null,0,16,"ion-row",[],null,null,null,v.qb,v.B)),e.qb(34,49152,null,0,a.lb,[e.h,e.k,e.x],null,null),(l()(),e.rb(35,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.qb(36,49152,null,0,a.v,[e.h,e.k,e.x],null,null),(l()(),e.rb(37,0,null,0,2,"ion-button",[["class","contrase\xf1aolvidada"],["fill","clear"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goToRecovery()&&e),e}),v.S,v.d)),e.qb(38,49152,null,0,a.m,[e.h,e.k,e.x],{fill:[0,"fill"]},null),(l()(),e.Kb(-1,0,[" Olvid\xe9 la contrase\xf1a "])),(l()(),e.rb(40,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.qb(41,49152,null,0,a.v,[e.h,e.k,e.x],null,null),(l()(),e.rb(42,0,null,0,2,"ion-button",[["block",""],["class","botonRegister"],["small",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goToRegister()&&e),e}),v.S,v.d)),e.qb(43,49152,null,0,a.m,[e.h,e.k,e.x],null,null),(l()(),e.Kb(-1,0,[" Registrarme "])),(l()(),e.rb(45,0,null,0,4,"ion-col",[["col-12",""]],null,null,null,v.Y,v.j)),e.qb(46,49152,null,0,a.v,[e.h,e.k,e.x],null,null),(l()(),e.rb(47,0,null,0,2,"ion-button",[["block",""],["class","botonRegister"],["color","secondary"],["small",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goTohome()&&e),e}),v.S,v.d)),e.qb(48,49152,null,0,a.m,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Kb(-1,0,[" Ingresar como Invitado "]))],(function(l,n){l(n,14,0,"floating"),l(n,18,0,"email"),l(n,23,0,"floating"),l(n,27,0,"password"),l(n,31,0,"tertiary","full"),l(n,38,0,"clear"),l(n,48,0,"secondary")}),(function(l,n){var t=n.component;l(n,7,0,e.Lb(n,7,0,e.Db(n,8).transform(t.msgError)))}))}function C(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,1,"app-login",[],null,null,null,I,S)),e.qb(1,114688,null,0,h,[s,c.a,a.a,y.m,a.f,b.a,a.Ob,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var _=e.nb("app-login",h,C,{},{},[]),O=t("qer4"),M=e.pb({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{text-align:center;font-size:.9em;color:grey;margin-bottom:20px;padding-left:20px;padding-right:40px}ion-content[_ngcontent-%COMP%]{height:58vh;padding-bottom:10px}h3[_ngcontent-%COMP%]{width:90%;margin-left:5%;text-align:center;color:#ffa28c}ion-label[_ngcontent-%COMP%]{color:grey!important}ion-button[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}"]],data:{}});function P(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,15,"ion-content",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["C\xe1lculo de semanas de embarazo"])),(l()(),e.rb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["En este momento no tienes en tu historia cl\xednica una fecha de concepci\xf3n, ingresa una manualmente, por favor..."])),(l()(),e.rb(5,0,null,null,8,"ion-list",[["lines","none"],["padding",""]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,3,"ion-item",[],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,1,"ion-label",[["position","floating"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Ingresa un nombre"])),(l()(),e.rb(9,0,[["nombre",1]],null,0,"ion-input",[["type","text"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,3,"ion-item",[],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"ion-label",[["position","floating"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Fecha de concepci\xf3n"])),(l()(),e.rb(13,0,[["fechaManual",1]],null,0,"ion-datetime",[["displayFormat","DD/MM/YYYY"],["min","2019-01-01"],["pickerFormat","DD MM YYYY"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,1,"ion-button",[["color","rosado"],["size","block"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.saveDate(e.Db(l,9),e.Db(l,13))&&o),o}),null,null)),(l()(),e.Kb(-1,null,[" ingresa los datos "]))],null,null)}function B(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,1,"app-calc",[],null,null,null,P,M)),e.qb(1,114688,null,0,d,[y.m,a.Ob],null,null)],(function(l,n){l(n,1,0)}),null)}var q=e.nb("app-calc",d,B,{},{},[]),w=t("j1ZV");t.d(n,"LoginPageModuleNgFactory",(function(){return z}));var z=e.ob(m,[],(function(l){return e.Ab([e.Bb(512,e.j,e.ab,[[8,[f.a,_,O.a,q]],[3,e.j],e.v]),e.Bb(4608,k.o,k.n,[e.s,[2,k.E]]),e.Bb(4608,x.s,x.s,[]),e.Bb(4608,a.b,a.b,[e.x,e.g]),e.Bb(4608,a.Kb,a.Kb,[a.b,e.j,e.p]),e.Bb(4608,a.Ob,a.Ob,[a.b,e.j,e.p]),e.Bb(4608,x.b,x.b,[]),e.Bb(1073742336,k.b,k.b,[]),e.Bb(1073742336,x.r,x.r,[]),e.Bb(1073742336,x.e,x.e,[]),e.Bb(1073742336,a.Gb,a.Gb,[]),e.Bb(1073742336,x.o,x.o,[]),e.Bb(1073742336,w.a,w.a,[]),e.Bb(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),e.Bb(1073742336,m,m,[]),e.Bb(1024,y.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);
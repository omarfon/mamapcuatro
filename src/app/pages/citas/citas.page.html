<ion-header>
  <ion-toolbar color="secondary">
      <ion-buttons slot="start">
          <ion-back-button></ion-back-button>
    </ion-buttons> 
    <ion-title>Programa tu Cita</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <h4 class="center">Ginecologos disponibles</h4>
    <p class="subtitulo"></p>
  <ion-card *ngFor="let doctor of doctorsF " class="cardDoctor">
    <div [ngStyle]="{'display': doctor.hasAvailable ? 'block' : 'none'}">
        <ion-row>
            <ion-col size="4" class="imageDoctor">
                <img src="http://dappapache02.eastus.cloudapp.azure.com:4200/img/professionals/{{doctor.id}}.png" alt="">
                <!-- <img src={{doctor.image}} alt=""> -->
            </ion-col>
            <ion-col size="8" right>
                <p class="doctor">{{ doctor.fullName | lowercase}}</p>
                <p class="especialidad">{{doctor.service.description | lowercase}}</p>
                <p>{{doctor.cmp}}</p>
                <p class="centro">Centro: Mendiola</p>
            </ion-col>

            <ion-col size="12">
            </ion-col>
            <div class="containerDays">
                <ion-slides>
                    <ion-slide *ngFor="let available of doctor.availables">
                        <div class="centerItemsDays">
                            <a (click)="expandedItem(doctor, available)">{{ available.date | date:'fullDate' :'es' | slice:0:3}}</a>
                            <p class="numeroDia">{{ available.date | date:'dd':'es'}}</p>
                        </div>
                    </ion-slide>
                </ion-slides>
            </div>
            <ion-col size='12'>
                <!-- <mat-accordion>
                    <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                    <ion-slides>
                                            <ion-slide *ngFor="let available of doctor.availables">
                                                <div class="centerItemsDays">
                                                    <a (click)="expandedItem(doctor, available)">{{ available.date | date:'fullDate' :'es' | slice:0:3}}</a>
                                                    <p>{{ available.date | date:'dd':'es'}}</p>
                                                </div>
                                            </ion-slide>
                                        </ion-slides>
                            </mat-expansion-panel-header>
                            <div class="row">
                                      <div class="horariosDisponibles">
                                            <ion-row>
                                                <div *ngFor="let hora of horas" >
                                                    <ion-col size="3" *ngIf="hora.hour" (click)="goToFinancer(doctor,hora)">
                                                      <div class="horas">
                                                        <p>{{hora.hour | slice:0:5}}</p>
                                                      </div>
                                                      </ion-col>
          
                                                      <div *ngIf="!horas"
                                                           class="sinHorarioDisponible">
                                                           no hay horarios disponibles
                                                      </div>
                                                  </div>
                                            </ion-row>
                                        </div>
                              </div>
                    </mat-expansion-panel> 
                </mat-accordion>  -->  
                <app-expandable [expandHeight]="itemExpandHeight" [expanded]="doctor.expanded" [doctor]="doctor" [available]="available" [horas]="horas">
                    <div class="row" *ngIf="horas">
                          <ion-slides class="normal">
                            <ion-slide class="horariosDisponibles">
                                <ion-row>
                                    <ion-col size="12">
                                        <h3 class="turno">Horas disponibles</h3>
                                    </ion-col>
                                    <ion-col size="12" class="horariosDisponibles">
                                            <ion-row  *ngIf="horas">
                                                <ion-col size="3"  *ngFor="let hora of horas" (click)="goToFinancer(doctor,hora)">
                                                    <div class="horas">
                                                        <p>{{hora.hour | slice:0:5}}</p>
                                                    </div>
                                                </ion-col>
                                            </ion-row>
                                              <div *ngIf="!horas"
                                                   class="sinHorarioDisponible">
                                                   no hay horarios disponibles
                                              </div>  
                                    </ion-col>
                                  </ion-row>
                              </ion-slide>
                      </ion-slides>
                    </div>
                </app-expandable>
            </ion-col>
        </ion-row>
    </div>
</ion-card>

</ion-content>
